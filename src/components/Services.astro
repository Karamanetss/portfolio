---
const {
  services = [],
  subtitle = '',
  title = '',
  contactLabel = '',
} = Astro.props;

const cardBaseClasses =
  'bg-white/8 border border-white/15 rounded-2xl p-6 h-44 flex flex-col justify-between transition-all duration-300 ease-out hover:bg-white hover:border-white group-hover:transform group-hover:-translate-y-1 group-hover:shadow-xl will-change-transform';
const iconClasses =
  'w-10 h-10 text-white group-hover:text-black transition-colors duration-300';
const arrowClasses =
  'text-xl text-white/40 group-hover:text-black/60 transition-all duration-300 group-hover:transform group-hover:translate-x-1';
const titleClasses =
  'text-lg font-semibold text-white group-hover:text-black transition-colors duration-300';
---

<style>
  html {
    scroll-behavior: smooth;
  }
  .service-card {
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  .service-card svg {
    will-change: auto;
  }
</style>

<link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
<section id="services" class="py-20 bg-black text-white">
  <div class="w-full max-w-[1280px] mx-auto px-6">
    <div class="mb-16" data-aos="fade-up">
      <p
        class="text-3xl md:text-[36px] font-light text-gray-400 text-center lg:text-left mb-3"
      >
        {subtitle}
      </p>
      <h3
        class="font-montserrat text-4xl sm:text-5xl lg:text-6xl xl:text-[90px] font-bold mb-3 sm:mb-5 text-center lg:text-left text-white"
      >
        {title}
      </h3>
    </div>

    <div class="flex flex-col lg:flex-row gap-6">
      <!-- Services Grid -->
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 flex-1"
        data-aos="fade-up"
      >
        {
          services.map(
            (service: { title: string; icon: string }, idx: number) => (
              <div
                class="group cursor-pointer service-card"
                data-aos="fade-up"
                data-aos-delay={100 + idx * 100}
              >
                <div class={cardBaseClasses}>
                  <div class="flex justify-between items-start">
                    <div class={iconClasses}>
                      <svg
                        width="40"
                        height="40"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <Fragment set:html={service.icon} />
                      </svg>
                    </div>
                    <div class={arrowClasses}>→</div>
                  </div>
                  <h3 class={titleClasses}>{service.title}</h3>
                </div>
              </div>
            )
          )
        }
      </div>

      <!-- Contact Card -->
      <a
        href="#contact"
        class="group cursor-pointer lg:w-80 order-last lg:order-none contact-scroll"
        data-aos="zoom-in"
        style="text-decoration: none;"
      >
        <div
          class="bg-white/8 border border-white/15 rounded-2xl p-6 h-44 lg:h-full flex flex-col justify-between transition-all duration-300 ease-out hover:bg-white hover:border-white group-hover:transform group-hover:-translate-y-1 group-hover:shadow-xl"
        >
          <div class="flex justify-end">
            <div
              class="text-2xl text-white group-hover:text-black transition-all duration-300 group-hover:transform group-hover:translate-x-1"
            >
              ↗
            </div>
          </div>
          <div>
            <p
              class="text-sm text-white/60 group-hover:text-black/70 mb-2 font-medium tracking-wider transition-colors duration-300"
            >
              {contactLabel}
            </p>
            <h3
              class="text-lg font-semibold text-white group-hover:text-black transition-colors duration-300"
            >
              karamanets.bogdan@gmail.com
            </h3>
          </div>
        </div>
      </a>
    </div>
  </div>
</section>

<script>
  import AOS from 'aos';
  document.addEventListener('DOMContentLoaded', function () {
    AOS.init({
      duration: 1000,
      once: true,
    });
  });
</script>
